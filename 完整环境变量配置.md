# 🔐 完整环境变量配置 - Vercel部署

## 📋 必需配置（1个）

### DATABASE_URL ✅

**名称**:
```
DATABASE_URL
```

**值**（已从Neon获取）:
```
postgresql://neondb_owner:npg_zXcVnS18GyKr@ep-wispy-morning-aheax5ya-pooler.c-3.us-east-1.aws.neon.tech/neondb?channel_binding=require&sslmode=require
```

**环境**: Production, Preview, Development（全选）

**用途**: 连接Neon PostgreSQL数据库

---

## 🔐 可选配置：Stack Auth（如果使用认证功能）

### 1. NEXT_PUBLIC_STACK_PROJECT_ID

**名称**:
```
NEXT_PUBLIC_STACK_PROJECT_ID
```

**值**: 
```
你的Stack项目ID（需要从Stack Auth控制台获取）
```

**环境**: Production, Preview, Development（全选）

**获取方式**:
1. 访问 https://stack-auth.com/
2. 登录你的账户
3. 选择项目
4. 复制 Project ID

---

### 2. NEXT_PUBLIC_STACK_PUBLISHABLE_CLIENT_KEY

**名称**:
```
NEXT_PUBLIC_STACK_PUBLISHABLE_CLIENT_KEY
```

**值**:
```
你的Stack Publishable Client Key（从Stack Auth控制台获取）
```

**环境**: Production, Preview, Development（全选）

**获取方式**:
1. Stack Auth 控制台
2. Settings → API Keys
3. 复制 Publishable Client Key

---

### 3. STACK_SECRET_SERVER_KEY

**名称**:
```
STACK_SECRET_SERVER_KEY
```

**值**:
```
你的Stack Secret Server Key（从Stack Auth控制台获取）
```

**环境**: Production, Preview, Development（全选）

**获取方式**:
1. Stack Auth 控制台
2. Settings → API Keys
3. 复制 Secret Server Key

⚠️ **注意**: 这是敏感信息，保密！

---

## 📝 Vercel 配置步骤

### 完整配置流程

#### 第1步：添加 DATABASE_URL（必需）

```
1. 在Vercel项目配置页面
2. 找到 "Environment Variables"
3. 点击 "Add New"

Name: DATABASE_URL
Value: postgresql://neondb_owner:npg_zXcVnS18GyKr@ep-wispy-morning-aheax5ya-pooler.c-3.us-east-1.aws.neon.tech/neondb?channel_binding=require&sslmode=require

Environments:
☑ Production
☑ Preview
☑ Development

4. 点击 "Save"
```

#### 第2步：添加 Stack Auth 变量（可选）

**如果你使用了登录功能**，需要添加这3个：

```
NEXT_PUBLIC_STACK_PROJECT_ID
NEXT_PUBLIC_STACK_PUBLISHABLE_CLIENT_KEY
STACK_SECRET_SERVER_KEY
```

**如果你使用 Demo 模式**（不需要登录），可以跳过。

---

## 🎯 配置场景

### 场景1: 仅使用 Demo 模式（最简单）

**只配置**:
```
DATABASE_URL ← 只需要这一个
```

**效果**:
- ✅ 用户可以学习
- ✅ 进度保存为 demo-user
- ❌ 没有真实的用户登录

---

### 场景2: 完整功能（推荐）

**配置所有4个**:
```
DATABASE_URL
NEXT_PUBLIC_STACK_PROJECT_ID
NEXT_PUBLIC_STACK_PUBLISHABLE_CLIENT_KEY
STACK_SECRET_SERVER_KEY
```

**效果**:
- ✅ 完整的用户系统
- ✅ 独立的用户进度
- ✅ 真实的登录注册
- ✅ 所有功能完整

---

## 📊 环境变量汇总表

| 变量名 | 类型 | 必需 | 示例值 | 说明 |
|--------|------|------|--------|------|
| `DATABASE_URL` | 私密 | ✅ 是 | postgresql://... | 数据库连接 |
| `NEXT_PUBLIC_STACK_PROJECT_ID` | 公开 | ⭕ 可选 | proj_xxx | Stack项目ID |
| `NEXT_PUBLIC_STACK_PUBLISHABLE_CLIENT_KEY` | 公开 | ⭕ 可选 | pk_xxx | Stack客户端Key |
| `STACK_SECRET_SERVER_KEY` | 私密 | ⭕ 可选 | sk_xxx | Stack服务端Key |

**说明**:
- ✅ 必需：必须配置才能运行
- ⭕ 可选：不配置也能运行（Demo模式）
- 公开：前端可见（NEXT_PUBLIC_前缀）
- 私密：仅服务器端可见

---

## 🔒 安全说明

### 已知的连接信息

**DATABASE_URL** 已获取：
```
postgresql://neondb_owner:npg_zXcVnS18GyKr@ep-wispy-morning-aheax5ya-pooler.c-3.us-east-1.aws.neon.tech/neondb?channel_binding=require&sslmode=require
```

### 需要你提供的（如果使用认证）

- Stack Auth Project ID
- Stack Auth Client Key
- Stack Auth Secret Key

**获取方式**：
1. 如果你之前配置过，查看本地记录
2. 访问 Stack Auth 控制台重新获取
3. 或选择不配置，使用 Demo 模式

---

## 💡 推荐配置

### 快速部署（推荐）

**只配置 DATABASE_URL**：
- ⚡ 最快部署
- ✅ 核心功能可用
- 🎮 Demo 模式运行
- ⏱️ 5分钟完成

**配置方法**：
```
在 Vercel 只添加一个环境变量:
DATABASE_URL = postgresql://neondb_owner:...
```

### 完整部署（如需登录）

**配置所有4个变量**：
- ✅ 完整功能
- 👤 真实用户系统
- 📊 独立进度追踪
- ⏱️ 10分钟完成

---

## 🚀 立即行动

### 最简单的方式

```bash
1. 访问 Vercel
   https://vercel.com

2. 导入 GitHub 项目
   选择 zt6453928/pysty

3. 配置环境变量（只需1个）
   Name: DATABASE_URL
   Value: postgresql://neondb_owner:npg_zXcVnS18GyKr@...（见上）

4. 点击 Deploy

5. 等待2-3分钟

6. 完成！访问你的网站 🎉
```

---

## 📚 相关文档

- 📖 `Vercel环境变量配置.md` - 本文档
- 🚀 `快速部署清单.md` - 部署步骤
- 💡 `Vercel部署指南.md` - 详细指南

---

## 🎊 总结

### 你现在拥有

- ✅ GitHub 仓库（代码已上传）
- ✅ DATABASE_URL（数据库连接字符串）
- ✅ 部署指南文档
- ✅ 一切准备就绪

### 下一步

```
访问 Vercel → 导入项目 → 配置 DATABASE_URL → 部署！

10分钟后你的网站就上线了！🚀
```

---

**DATABASE_URL 已准备好！复制使用即可！** 🔑✨

**现在去 Vercel 部署吧！** https://vercel.com 🎉

