# ğŸ† æˆå°±ç³»ç»Ÿä½¿ç”¨æŒ‡å—

## æ¦‚è¿°

Pythoné­”æ³•å­¦é™¢çš„æˆå°±ç³»ç»Ÿä¸ºå­¦ä¹ è¿‡ç¨‹æ·»åŠ äº†æ¸¸æˆåŒ–å…ƒç´ ï¼Œè®©å­¦ä¹ æ›´æœ‰è¶£ã€æ›´æœ‰åŠ¨åŠ›ï¼

## åŠŸèƒ½ç‰¹æ€§

### ğŸ¯ 25ä¸ªç²¾å¿ƒè®¾è®¡çš„æˆå°±

æˆå°±åˆ†ä¸º5å¤§ç±»ï¼š
- **å­¦ä¹ è¿›åº¦** (5ä¸ª): å®Œæˆå…³å¡è§£é”
- **é­”æ³•ç‚¹æ•°** (5ä¸ª): ç´¯è®¡è·å¾—ç§¯åˆ†è§£é”
- **ç»ƒä¹ é¢˜** (5ä¸ª): å®Œæˆç»ƒä¹ é¢˜è§£é”
- **è¿ç»­å­¦ä¹ ** (4ä¸ª): è¿ç»­å­¦ä¹ å¤©æ•°è§£é”
- **ç‰¹æ®Šæˆå°±** (6ä¸ª): å®Œæˆç‰¹æ®Šæ¡ä»¶è§£é”

### ğŸŒŸ ç¨€æœ‰åº¦ç³»ç»Ÿ

- ğŸ”¹ **æ™®é€š** (Common): åŸºç¡€æˆå°±
- ğŸ”· **ç¨€æœ‰** (Rare): è¿›é˜¶æˆå°±
- ğŸ’œ **å²è¯—** (Epic): é«˜çº§æˆå°±
- â­ **ä¼ å¥‡** (Legendary): ç»ˆææˆå°±

### ğŸ“Š å®æ—¶ç»Ÿè®¡

- æˆå°±å®Œæˆè¿›åº¦
- è¿ç»­å­¦ä¹ å¤©æ•°
- å®Œæˆå…³å¡æ•°é‡
- å®Œæˆç»ƒä¹ æ•°é‡

## å®‰è£…å’Œåˆå§‹åŒ–

### 1. åˆå§‹åŒ–æˆå°±æ•°æ®åº“

```bash
# è®¾ç½®æ•°æ®åº“è¿æ¥
export DATABASE_URL="your-neon-database-url"

# è¿è¡Œåˆå§‹åŒ–è„šæœ¬
npx tsx scripts/init-achievements.ts
```

### 2. éªŒè¯åˆå§‹åŒ–

åˆå§‹åŒ–æˆåŠŸåï¼Œä½ ä¼šçœ‹åˆ°ï¼š

```
ğŸ¯ å¼€å§‹åˆ›å»ºæˆå°±ç³»ç»Ÿæ•°æ®åº“è¡¨...

âœ… achievements è¡¨å·²åˆ›å»º
âœ… user_achievements è¡¨å·²åˆ›å»º
âœ… user_stats è¡¨å·²åˆ›å»º

ğŸ“ å¼€å§‹æ’å…¥æˆå°±æ•°æ®...

  âœ“ ğŸ“ ç¬¬ä¸€æ­¥ - å®Œæˆç¬¬ä¸€ä¸ªå…³å¡
  âœ“ ğŸš€ å…¥é—¨è€… - å®Œæˆ5ä¸ªå…³å¡
  ... (æ›´å¤šæˆå°±)

ğŸ‰ æˆå°±ç³»ç»Ÿåˆå§‹åŒ–å®Œæˆï¼

ğŸ“Š ç»Ÿè®¡ä¿¡æ¯ï¼š
   æ€»æˆå°±æ•°: 25
   - æ™®é€š (Common): 8
   - ç¨€æœ‰ (Rare): 7
   - å²è¯— (Epic): 6
   - ä¼ å¥‡ (Legendary): 4
```

## æˆå°±åˆ—è¡¨

### ğŸ“š å­¦ä¹ è¿›åº¦æˆå°±

| æˆå°± | åç§° | æ¡ä»¶ | å¥–åŠ± | ç¨€æœ‰åº¦ |
|------|------|------|------|--------|
| ğŸ“ | ç¬¬ä¸€æ­¥ | å®Œæˆç¬¬1ä¸ªå…³å¡ | 50ç‚¹ | æ™®é€š |
| ğŸš€ | å…¥é—¨è€… | å®Œæˆ5ä¸ªå…³å¡ | 100ç‚¹ | æ™®é€š |
| â­ | ä¸­çº§æ³•å¸ˆ | å®Œæˆ10ä¸ªå…³å¡ | 200ç‚¹ | ç¨€æœ‰ |
| ğŸŒŸ | é«˜çº§æ³•å¸ˆ | å®Œæˆ20ä¸ªå…³å¡ | 400ç‚¹ | ç¨€æœ‰ |
| ğŸ‘‘ | Pythonå¤§å¸ˆ | å®Œæˆå…¨éƒ¨30ä¸ªå…³å¡ | 1000ç‚¹ | ä¼ å¥‡ |

### ğŸ’ é­”æ³•ç‚¹æ•°æˆå°±

| æˆå°± | åç§° | æ¡ä»¶ | å¥–åŠ± | ç¨€æœ‰åº¦ |
|------|------|------|------|--------|
| âœ¨ | é­”æ³•æ–°æ‰‹ | è·å¾—100ç‚¹ | 50ç‚¹ | æ™®é€š |
| ğŸ’« | é­”æ³•å­¦å¾’ | è·å¾—500ç‚¹ | 100ç‚¹ | æ™®é€š |
| ğŸ”® | é­”æ³•å¸ˆ | è·å¾—1000ç‚¹ | 200ç‚¹ | ç¨€æœ‰ |
| ğŸŒŒ | é­”æ³•å¤§å¸ˆ | è·å¾—3000ç‚¹ | 500ç‚¹ | å²è¯— |
| âš¡ | ä¼ å¥‡æ³•å¸ˆ | è·å¾—5000ç‚¹ï¼ˆå…¨éƒ¨ï¼‰ | 1000ç‚¹ | ä¼ å¥‡ |

### ğŸ“ ç»ƒä¹ é¢˜æˆå°±

| æˆå°± | åç§° | æ¡ä»¶ | å¥–åŠ± | ç¨€æœ‰åº¦ |
|------|------|------|------|--------|
| ğŸ“ | å‹¤å¥‹å­¦ç”Ÿ | å®Œæˆ10ä¸ªç»ƒä¹  | 50ç‚¹ | æ™®é€š |
| ğŸ“š | ç»ƒä¹ è¾¾äºº | å®Œæˆ50ä¸ªç»ƒä¹  | 150ç‚¹ | ç¨€æœ‰ |
| ğŸ† | ç»ƒä¹ ç‹‚äºº | å®Œæˆ100ä¸ªç»ƒä¹  | 300ç‚¹ | å²è¯— |
| ğŸ’ª | ç»ƒä¹ å¤§å¸ˆ | å®Œæˆ200ä¸ªç»ƒä¹  | 600ç‚¹ | å²è¯— |
| ğŸ–ï¸ | å®Œç¾ä¸»ä¹‰è€… | å®Œæˆå…¨éƒ¨319ä¸ªç»ƒä¹  | 1500ç‚¹ | ä¼ å¥‡ |

### ğŸ”¥ è¿ç»­å­¦ä¹ æˆå°±

| æˆå°± | åç§° | æ¡ä»¶ | å¥–åŠ± | ç¨€æœ‰åº¦ |
|------|------|------|------|--------|
| ğŸ”¥ | ä¸‰å¤©è¿å‡» | è¿ç»­å­¦ä¹ 3å¤© | 75ç‚¹ | æ™®é€š |
| âš¡ | ä¸€å‘¨åšæŒ | è¿ç»­å­¦ä¹ 7å¤© | 150ç‚¹ | ç¨€æœ‰ |
| ğŸ’ | ä¸¤å‘¨åšæŒ | è¿ç»­å­¦ä¹ 14å¤© | 300ç‚¹ | å²è¯— |
| ğŸ… | ä¸‰åå¤©å¤§å¸ˆ | è¿ç»­å­¦ä¹ 30å¤© | 1000ç‚¹ | ä¼ å¥‡ |

### â­ ç‰¹æ®Šæˆå°±

| æˆå°± | åç§° | æ¡ä»¶ | å¥–åŠ± | ç¨€æœ‰åº¦ |
|------|------|------|------|--------|
| ğŸ¯ | é¦–æ€ | å®Œæˆç¬¬ä¸€ä¸ªç»ƒä¹ é¢˜ | 25ç‚¹ | æ™®é€š |
| ğŸ¦‰ | å¤œçŒ«å­ | æ™š11ç‚¹åå®Œæˆå…³å¡ | 100ç‚¹ | ç¨€æœ‰ |
| ğŸŒ… | æ—©èµ·é¸Ÿ | æ—©6ç‚¹å‰å®Œæˆå…³å¡ | 100ç‚¹ | ç¨€æœ‰ |
| âš¡ | é€Ÿåº¦ä¹‹ç‹ | ä¸€å¤©å®Œæˆ5ä¸ªå…³å¡ | 200ç‚¹ | å²è¯— |
| ğŸ’¯ | å®Œç¾ä¸»ä¹‰è€… | è¿ç»­10ä¸ªç»ƒä¹ æ»¡åˆ† | 250ç‚¹ | å²è¯— |
| ğŸŠ | ç‹è€…å½’æ¥ | ä¸­æ–­åé‡æ–°å­¦ä¹  | 50ç‚¹ | æ™®é€š |

## æˆå°±è§¦å‘æœºåˆ¶

### è‡ªåŠ¨æ£€æŸ¥

æˆå°±ç³»ç»Ÿä¼šåœ¨ä»¥ä¸‹æ—¶æœºè‡ªåŠ¨æ£€æŸ¥ï¼š

1. **å®Œæˆç»ƒä¹ é¢˜æ—¶**
   - æ›´æ–°ç»ƒä¹ é¢˜è®¡æ•°
   - æ›´æ–°è¿ç»­å­¦ä¹ ç»Ÿè®¡
   - æ£€æŸ¥ç›¸å…³æˆå°±

2. **å®Œæˆå…³å¡æ—¶**
   - æ›´æ–°å…³å¡å®Œæˆè®¡æ•°
   - æ£€æŸ¥è¿›åº¦æˆå°±

3. **æ¯æ—¥é¦–æ¬¡æ´»åŠ¨æ—¶**
   - æ›´æ–°è¿ç»­å­¦ä¹ å¤©æ•°
   - æ£€æŸ¥è¿ç»­å­¦ä¹ æˆå°±

### ç‰¹æ®Šæˆå°±è§¦å‘

æŸäº›ç‰¹æ®Šæˆå°±éœ€è¦ç‰¹å®šæ¡ä»¶ï¼š

```typescript
// å¤œçŒ«å­æˆå°± (23:00-06:00)
if (hour >= 23 || hour < 6) {
  await checkSpecialAchievements(userId, 'night_owl');
}

// æ—©èµ·é¸Ÿæˆå°± (04:00-06:00)
if (hour >= 4 && hour < 6) {
  await checkSpecialAchievements(userId, 'early_bird');
}
```

## API ä½¿ç”¨

### è·å–æ‰€æœ‰æˆå°±

```typescript
GET /api/achievements
```

è¿”å›æ‰€æœ‰å¯ç”¨æˆå°±åˆ—è¡¨ã€‚

### è·å–ç”¨æˆ·æˆå°±

```typescript
GET /api/achievements?userId=<user-id>
```

è¿”å›ï¼š
- æ‰€æœ‰æˆå°±åŠå®ŒæˆçŠ¶æ€
- ç”¨æˆ·ç»Ÿè®¡ä¿¡æ¯
- æˆå°±è¿›åº¦ç™¾åˆ†æ¯”

## æ•°æ®åº“ç»“æ„

### achievements è¡¨

```sql
CREATE TABLE achievements (
  id SERIAL PRIMARY KEY,
  key VARCHAR(100) UNIQUE NOT NULL,
  title VARCHAR(255) NOT NULL,
  description TEXT NOT NULL,
  icon VARCHAR(50) NOT NULL,
  category VARCHAR(50) NOT NULL,
  requirement_type VARCHAR(100) NOT NULL,
  requirement_value INTEGER NOT NULL,
  points INTEGER NOT NULL DEFAULT 0,
  rarity VARCHAR(50) NOT NULL DEFAULT 'common',
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);
```

### user_achievements è¡¨

```sql
CREATE TABLE user_achievements (
  id SERIAL PRIMARY KEY,
  user_id VARCHAR(255) NOT NULL,
  achievement_id INTEGER REFERENCES achievements(id),
  unlocked_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  UNIQUE(user_id, achievement_id)
);
```

### user_stats è¡¨

```sql
CREATE TABLE user_stats (
  id SERIAL PRIMARY KEY,
  user_id VARCHAR(255) UNIQUE NOT NULL,
  current_streak INTEGER DEFAULT 0,
  longest_streak INTEGER DEFAULT 0,
  last_activity_date DATE,
  total_exercises_completed INTEGER DEFAULT 0,
  total_levels_completed INTEGER DEFAULT 0,
  perfect_runs INTEGER DEFAULT 0,
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);
```

## å‰ç«¯ç»„ä»¶

### AchievementCard

æˆå°±å¡ç‰‡ç»„ä»¶ï¼Œæ˜¾ç¤ºå•ä¸ªæˆå°±çš„è¯¦ç»†ä¿¡æ¯ï¼š

```tsx
<AchievementCard
  title="ç¬¬ä¸€æ­¥"
  description="å®Œæˆç¬¬ä¸€ä¸ªå…³å¡"
  icon="ğŸ“"
  category="progress"
  rarity="common"
  points={50}
  unlocked={true}
  unlocked_at={new Date()}
  progress={100}
/>
```

### AchievementNotification

æˆå°±è§£é”é€šçŸ¥ç»„ä»¶ï¼Œæ˜¾ç¤ºæ¼‚äº®çš„è§£é”åŠ¨ç”»ï¼š

```tsx
<AchievementNotification
  achievement={newAchievement}
  onClose={() => setNewAchievement(null)}
/>
```

## å¼€å‘è€…æŒ‡å—

### æ·»åŠ æ–°æˆå°±

1. åœ¨ `scripts/init-achievements.ts` ä¸­æ·»åŠ æˆå°±å®šä¹‰ï¼š

```typescript
{
  key: 'new_achievement',
  title: 'ğŸ¯ æ–°æˆå°±',
  description: 'å®ŒæˆæŸä¸ªä»»åŠ¡',
  icon: 'ğŸ¯',
  category: 'special',
  requirement_type: 'special',
  requirement_value: 0,
  points: 100,
  rarity: 'rare',
}
```

2. é‡æ–°è¿è¡Œåˆå§‹åŒ–è„šæœ¬ï¼š

```bash
npx tsx scripts/init-achievements.ts
```

### è§¦å‘è‡ªå®šä¹‰æˆå°±

```typescript
import { checkSpecialAchievements } from '@/lib/actions/achievements';

// åœ¨é€‚å½“çš„æ—¶æœºè°ƒç”¨
await checkSpecialAchievements(userId, 'your_achievement_key');
```

## æœ€ä½³å®è·µ

1. **å®šæœŸæ£€æŸ¥æˆå°±**: åœ¨ç”¨æˆ·å®Œæˆé‡è¦æ“ä½œåæ£€æŸ¥æˆå°±
2. **ä¼˜é›…é™çº§**: æˆå°±ç³»ç»Ÿå¤±è´¥ä¸åº”å½±å“ä¸»åŠŸèƒ½
3. **æ€§èƒ½ä¼˜åŒ–**: æ‰¹é‡æ£€æŸ¥æˆå°±ï¼Œé¿å…é¢‘ç¹æ•°æ®åº“æŸ¥è¯¢
4. **ç”¨æˆ·ä½“éªŒ**: æˆå°±è§£é”æ—¶æ˜¾ç¤ºåŠ¨ç”»å’Œé€šçŸ¥

## æ•…éšœæ’é™¤

### æˆå°±æœªè§£é”ï¼Ÿ

1. æ£€æŸ¥æ•°æ®åº“è¿æ¥
2. ç¡®è®¤æˆå°±æ¡ä»¶æ˜¯å¦æ»¡è¶³
3. æŸ¥çœ‹æœåŠ¡å™¨æ—¥å¿—
4. éªŒè¯ç”¨æˆ·ç»Ÿè®¡æ˜¯å¦æ­£ç¡®æ›´æ–°

### åˆå§‹åŒ–å¤±è´¥ï¼Ÿ

1. ç¡®è®¤ DATABASE_URL æ­£ç¡®
2. æ£€æŸ¥æ•°æ®åº“æƒé™
3. æŸ¥çœ‹é”™è¯¯æ—¥å¿—
4. å°è¯•æ‰‹åŠ¨åˆ›å»ºè¡¨

## æœªæ¥æ”¹è¿›

- [ ] æˆå°±åˆ†äº«åŠŸèƒ½
- [ ] æˆå°±æ’è¡Œæ¦œ
- [ ] æ›´å¤šç‰¹æ®Šæˆå°±
- [ ] æˆå°±ç»„åˆç³»ç»Ÿ
- [ ] é™æ—¶æˆå°±æ´»åŠ¨

## æ”¯æŒ

å¦‚æœ‰é—®é¢˜ï¼Œè¯·æŸ¥çœ‹ï¼š
- [é¡¹ç›®æ–‡æ¡£](./README.md)
- [è´¡çŒ®æŒ‡å—](./docs/CONTRIBUTING.md)
- GitHub Issues

---

ç”¨ â¤ï¸ å’Œé­”æ³•åˆ›é€  | Pythoné­”æ³•å­¦é™¢æˆå°±ç³»ç»Ÿ

